---
title: 迭代器
date: 2019-02-05 18:17:49
tags:
---
&emsp;&emsp;迭代器(`iterator`)是一种检查容器内元素并遍历元素的数据类型。每种容器类型都定义了自己的迭代器类型，例如`vector<int>::iterator iter;`定义了一个名为`iter`的变量，它的数据类型是由`vector<int>`定义的`iterator`类型。
&emsp;&emsp;使用迭代器读取`vector`中的每一个元素：

``` cpp
vector<int> ivec ( 10, 1 );
​
for ( vector<int>::iterator iter = ivec.begin(); iter != ivec.end(); ++iter ) {
    *iter = 2; /* 使用“*”访问迭代器所指向的元素 */
}
```

`const_iterator`只能读取容器中的元素，而不能修改：

``` cpp
for ( vector<int>::const_iterator citer = ivec.begin(); citer != ivec.end(); citer++ ) {
    cout << *citer;
    // *citer = 3; /* error */
}
```

&emsp;&emsp;`iterator`除了进行`++`和`--`操作，可以将`iter + n`、`iter - n`赋给一个新的`iteraor`对象。还可以使用一个`iterator`减去另外一个`iterator`。

``` cpp
const vector<int>::iterator newiter = ivec.begin();
vector<int>::iterator newiter2 = ivec.end();
cout << "\n" << newiter2 - newiter;
```

典型的使用`vector`的`STL`程式：

``` cpp
#include <vector>
#include <iostream>
​
using namespace std;
​
int main() {
    vector<int> ivec;
    ivec.push_back ( 1 );
    ivec.push_back ( 2 );
    ivec.push_back ( 3 );
    ivec.push_back ( 4 );
​
    for ( vector<int>::iterator iter = ivec.begin(); iter != ivec.end(); ++iter ) {
        cout << *iter << endl;
    }
}
```

---

### 关于迭代器中的find函数

&emsp;&emsp;我们经常要在容器中查找一个数据，这就需要使用`find`函数。下面是一个使用`find`函数在迭代器中查找数据的例子。注意，`find`不属于`vector`的成员，而存在于算法中，需要加上头文件`algorithm`：

``` cpp
#include <vector>
#include <algorithm>
#include <iostream>
​
using namespace std;
​
int main() {
    vector<int> L;
    L.push_back ( 1 );
    L.push_back ( 2 );
    L.push_back ( 3 );
    L.push_back ( 4 );
    L.push_back ( 5 );
    vector<int>::iterator result = find ( L.begin( ), L.end( ), 3 ); /* 查找3 */
​
    if ( result == L.end( ) ) { /* 没找到 */
        cout << "No" << endl;
    }
    else { /* 找到 */
        cout << "Yes" << endl;
    }
}
```

&emsp;&emsp;**补充说明**：`begin`是指容器中的第一个元素，`end`是指容器中最后一个元素的后一个元素。