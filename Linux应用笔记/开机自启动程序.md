---
title: 开机自启动程序
categories: Linux应用笔记
abbrlink: 45fd77df
date: 2019-02-02 14:35:38
---
### mini2440开机自启动程序

&emsp;&emsp;需要修改文件`/etc/init.d/rcS`，在文件末尾添加如下内容：<!--more-->

``` bash
cd /home/xx  # “xx”是可执行文件所在目录
./pwm_arm
```

### openwrt开机自启动程序

&emsp;&emsp;将开机后需要启动的命令填入`/etc/rc.d/rc.local`(或者`/etc/rc.local`)文件中，然后`reboot`即可。需要注意自启动程序和所需设备启动的顺序。

### 树莓派开机启动Qt程序

&emsp;&emsp;在树莓派上用`Qt`进行图形界面开发，发现无法自动启动程序。网上都是讲解如何启动脚本的，但是脚本的启动与图形程序是不同的。树莓派开机启动流程是：`自动登录->自动启动窗口->自动运行用户程序`。脚本程序可以在自动启动窗口这一步之前运行，但用户程序是不行的。下面来看一下怎样启动用户程序：
&emsp;&emsp;进入当前用户`HOME`目录下的`.config`目录，这是一个隐藏目录，需用`ls -a`显示出来：

``` bash
cd ~/.config
```

建立一个名为`autostart`的子目录，并进入该目录：

``` bash
mkdir autostart
cd autostart
```

生成一个`*.desktop`文件，例如`my.desktop`，然后输入以下内容：

``` bash
[Desktop Entry]
Type=Application
Exec=Path
```

其中`Exec`的值就是要启动的程序名，最好是全路径的可执行文件名，然后重启即可。
&emsp;&emsp;上述方法的原理：系统执行`startx`后，`LXDE`窗口管理器会找到`~/.config/autostart`目录下所有的`.desktop`文件，并一一执行。