---
title: 常用的位操作函数
date: 2018-12-26 21:50:57
tags:
---
&emsp;&emsp;代码如下所示：

``` c
/* 将双字节中某一位置位 */
void SetN1 ( unsigned short *pBuf, int n ) {
    ( *pBuf ) |= 1 << n;
}
​
/* 将双字节中某一位清零 */
void SetN0 ( unsigned short *pBuf, int n ) {
    ( *pBuf ) &= ~ ( 1 << n );
}
​
/* 将单字节中某一位置位 */
void SetN1 ( unsigned char *pBuf, int n ) {
    ( *pBuf ) |= 1 << n;
}
​
/* 将单字节中某一位清零 */
void SetN0 ( unsigned char *pBuf, int n ) {
    ( *pBuf ) &= ~ ( 1 << n );
}
​
/* 获得单字节中某一位的值 */
int Get1Bit ( unsigned char buf, int n ) {
    return ( buf >> n ) & 0x01;
}
​
/* 获得双字节中某一位的值 */
int Get1Bit ( unsigned short buf, int n ) {
    return ( buf >> n ) & 0x01;
}
​
/* n必须是2的倍数，函数作用是获得单字节中两位的值 */
int Get2Bit ( unsigned char buf, int n ) {
    return ( buf >> n ) & 0x03;
}
​
/* n必须是2的倍数，函数作用是获得双字节中两位位置(n)处的值 */
int Get2Bit ( unsigned short buf, int n ) {
    return ( buf >> n ) & 0x03;
}
​
/* n必须是2的倍数，函数作用是将单字节中两位位置(n)处，设置数值(m) */
void Set2Bit ( unsigned short *pBuf, int n, int m ) {
    ( *pBuf ) |= m << n;
}
```