---
title: 文件复制程序
categories: C++应用代码
abbrlink: e17de12d
date: 2018-12-16 12:08:12
---
&emsp;&emsp;代码如下：<!--more-->

``` cpp
#include <iostream>
#include <fstream>
​
using namespace std;
​
int main ( int argc, char* argv[] ) {
    if ( argc != 3 ) {
        cerr << "输入形式：test 源文件名 目标文件名\n" ;
        return ( 1 );
    }

    ifstream in;
    in.open ( argv[1], ios::in | ios::binary );
    in.unsetf ( ios::skipws ); /* 不跳过文件中的空格 */

    if ( !in ) {
        cerr << "打开文件失败" << endl;
        return 0;
    }

    ofstream out;
    out.open ( argv[2], ios::out | ios::binary );

    if ( !out ) {
        cerr << "打开文件失败" << endl;
        return 0;
    }

    char x;

    while ( in >> x ) {
        out << x;
    }

    in.close();
    out.close();
    return 0;
}
```

本程序不仅能实现文本文件的复制，还可以实现二进制文件的复制。
&emsp;&emsp;注意，默认情况下`>>`将跳过空格。`ios::skipws`并不是每一个编译器都支持的，可以将代码简写为：

``` cpp
char ch;
​
while ( in.get ( ch ) ) {
    out << ch;
}
```