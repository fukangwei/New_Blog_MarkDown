---
title: 集合
date: 2019-01-09 10:42:15
categories: Python语法
---
&emsp;&emsp;集合在`Python`中的作用是`唯一`，基本功能是进行成员关系测试和删除重复元素。在终端输入：

``` python
num = {}
type(num)  # 得到<class 'dict'>
num2 = {1, 2, 3, 4, 5}
type(num2)  # 得到<class 'set'>
num2 = {1, 2, 3, 4, 5, 5, 4, 3, 2}
num2  # 得到{1, 2, 3, 4, 5}
num2[2]  # 结果为“出错”
```

注意，集合的元素不能随意地索引！注意，创建一个空集合必须用`set`而不是`{}`，因为`{}`是用来创建一个空字典。创建一个集合的方法如下：

- 把一堆元素用花括号括起来。
- 使用`set`工厂函数：

``` python
set1 = set([1, 2, 3, 4, 5])
set1  # 得到{1, 2, 3, 4, 5}
```

&emsp;&emsp;去掉列表中重复的元素`[0, 1, 2, 3, 4, 5, 5, 3, 1]`，非集合解法如下：

``` python
num1 = [0, 1, 2, 3, 4, 5, 5, 3, 1]
temp = []
for each in num1:  # 定义函数
    if each not in temp:
        temp.append(each)
​
temp  # 结果为[0, 1, 2, 3, 4, 5]
```

集合解法如下：

``` python
num1 = list(set(num1))
num1  # 结果为[0, 1, 2, 3, 4, 5]
```

&emsp;&emsp;使用如下方法访问集合中的值：

- 可以使用`for`把集合中的数据一个个取出来。
- 可以通过`in`和`not in`判断一个元素是否已经存在于一个集合中。

``` python
num2  # 结果为{1, 2, 3, 4, 5}
"1" in num2  # 结果为False
1 in num2  # 结果为True
num2.add(6)
num2  # 结果为{1, 2, 3, 4, 5, 6}
num2.remove(5)
num2  # 结果为{1, 2, 3, 4, 6}
```

&emsp;&emsp;不可变集合使用关键字`frozen`：

``` python
num3 = frozenset([1, 2, 3, 4, 5])
num3.add(0)  # 结果为“出错”
```

&emsp;&emsp;`set`可以进行集合运算：

``` python
a = set('abracadabra')
b = set('alacazam')
​
print(a)  # 输出“{'c', 'b', 'a', 'd', 'r'}”
print(b)  # 输出“{'l', 'a', 'z', 'c', 'm'}”
print(a - b)  # a和b的差集，输出“{'d', 'r', 'b'}”
print(a | b)  # a和b的并集，输出“{'m', 'c', 'z', 'a', 'b', 'l', 'd', 'r'}”
print(a & b)  # a和b的交集，输出“{'a', 'c'}”
print(a ^ b)  # a和b中不同时存在的元素，输出“{'m', 'l', 'd', 'z', 'r', 'b'}”
```

---

### add

&emsp;&emsp;`add`方法用于给集合添加元素，如果添加的元素在集合中已存在，则不执行任何操作：

``` python
set.add(elmnt)
```

参数`elmnt`是要添加的元素。

``` python
fruits = {"apple", "banana", "cherry"}
fruits.add("orange")
print(fruits)  # 输出“{'orange', 'banana', 'cherry', 'apple'}”
```

### difference

&emsp;&emsp;`difference`方法用于返回集合的差集，即返回的集合元素包含在第一个集合中，但不包含在第二个集合(方法的参数)中。

``` python
set.difference(set)
```

参数`set`是用于计算差集的集合。

``` python
x = {"apple", "banana", "cherry"}
y = {"google", "microsoft", "apple"}
z = x.difference(y)
print(z)  # 输出“{'banana', 'cherry'}”
```

### discard

&emsp;&emsp;`discard`用于移除指定的集合元素。`remove`在移除一个不存在的元素时会发生错误，而`discard`不会：

``` python
set.discard(value)
```

参数`value`是要移除的元素。

``` python
fruits = {"apple", "banana", "cherry"}
fruits.discard("banana")
print(fruits)  # 输出“{'apple', 'cherry'}”
```

### intersection

&emsp;&emsp;`intersection`方法用于返回两个或更多集合中都包含的元素(即`交集`)：

``` python
set.intersection(set1, set2, ..., etc)
```

实例如下：

``` python
x = {"apple", "banana", "cherry"}
y = {"google", "runoob", "apple"}
z = x.intersection(y)
print(z)  # 输出“{'apple'}”
```

计算多个集合的并集：

``` python
x = {"a", "b", "c"}
y = {"c", "d", "e"}
z = {"f", "g", "c"}
result = x.intersection(y, z)
print(result)  # 输出“{'c'}”
```

### intersection_update

&emsp;&emsp;`intersection_update`方法用于移除两个或更多集合中都不重叠的元素，即计算`交集`。`intersection`方法是返回一个新的集合，而`intersection_update`方法是在原始的集合上移除不重叠的元素。

``` python
set.intersection_update(set1, set2 ... etc)
```

实例如下：

``` python
x = {"apple", "banana", "cherry"}
y = {"google", "runoob", "apple"}
x.intersection_update(y)
print(x)  # 输出“{'apple'}”
```

计算多个集合的并集：

``` python
x = {"a", "b", "c"}
y = {"c", "d", "e"}
z = {"f", "g", "c"}
x.intersection_update(y, z)
print(x)  # 输出“{'c'}”
```

### isdisjoint

&emsp;&emsp;`isdisjoint`方法用于判断两个集合是否包含相同的元素，如果没有则返回`True`，否则返回`False`。

``` python
set.isdisjoint(set)
```

参数`set`是要比较的集合。

``` python
x = {"apple", "banana", "cherry"}
y = {"google", "runoob", "facebook"}
z = x.isdisjoint(y)
print(z)  # 输出“True”
```

### issubset

&emsp;&emsp;`issubset`方法用于判断集合的所有元素是否都包含在指定集合中，如果是则返回`True`，否则返回`False`。

``` python
set.issubset(set)
```

参数`set`是要查找的集合。

``` python
x = {"a", "b", "c"}
y = {"f", "e", "d", "c", "b", "a"}
z = x.issubset(y)
print(z)  # 输出“True”
```

### issuperset

&emsp;&emsp;`issuperset`方法用于判断指定集合的所有元素是否都包含在原始的集合中，如果是则返回`True`，否则返回`False`。

``` python
set.issuperset(set)
```

参数set是要查找的集合。

``` python
x = {"f", "e", "d", "c", "b", "a"}
y = {"a", "b", "c"}
z = x.issuperset(y)
print(z)  # 输出“True”
```

### pop

&emsp;&emsp;`pop`方法用于随机移除一个元素，该方法返回移除的数组。

``` python
set.pop()
```

实例如下所示：

``` python
fruits = {"apple", "banana", "cherry"}
x = fruits.pop()
print(x)
```

### symmetric_difference

&emsp;&emsp;`symmetric_difference`方法返回两个集合中不重复的元素集合，即会移除两个集合中都存在的元素。

``` python
set.symmetric_difference(set)
```

实例如下：

``` python
x = {"apple", "banana", "cherry"}
y = {"google", "runoob", "apple"}
z = x.symmetric_difference(y)
print(z)  # 输出“{'google', 'cherry', 'runoob', 'banana'}”
```

### symmetric_difference_update

&emsp;&emsp;`symmetric_difference_update`方法移除当前集合中在另外一个指定集合相同的元素，并将另外一个指定集合中不同的元素插入到当前集合中。

``` python
set.symmetric_difference_update(set)
```

参数set是要检测的集合。

``` python
x = {"apple", "banana", "cherry"}
y = {"google", "runoob", "apple"}
x.symmetric_difference_update(y)
print(x)  # 输出“{'runoob', 'google', 'cherry', 'banana'}”
```

### union

&emsp;&emsp;`union`方法返回两个集合的并集，即包含了所有集合的元素，重复的元素只会出现一次。

``` python
set.union(set1, set2...)
```

实例如下：

``` python
x = {"apple", "banana", "cherry"}
y = {"google", "runoob", "apple"}
z = x.union(y)
print(z)  # 输出“{'apple', 'google', 'banana', 'cherry', 'runoob'}”
```

### update

&emsp;&emsp;`update`方法用于修改当前集合，可以添加新的元素或集合到当前集合中，如果添加的元素在集合中已存在，则该元素只会出现一次，重复的会忽略。

``` python
set.update(set)
```

实例如下：

``` python
x = {"apple", "banana", "cherry"}
y = {"google", "runoob", "apple"}
x.update(y)
print(x)  # 输出“{'runoob', 'apple', 'google', 'cherry', 'banana'}”
```