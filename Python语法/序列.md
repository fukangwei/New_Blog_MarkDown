---
title: 序列
date: 2019-01-10 10:16:23
categories: Python语法
---
### 关于序列

&emsp;&emsp;`list`、`tuple`和`str`都可以称之为`序列`。`list([iterable])`把可迭代对象`iterable`转换为列表：

``` python
a = list()
a  # 得到[]
b = "hello"
b = list(b)
b  # 得到['h', 'e', 'l', 'l', 'o']
c = (1, 2, 3, 4, 5, 6, 7, 8, 9, 0)
c = list(c)
c  # 得到[1, 2, 3, 4, 5, 6, 7, 8, 9, 0]
```

`tuple([iterable])`把可迭代对象`iterable`转换为元组；`str(obj)`把`obj`对象转换为字符串。
&emsp;&emsp;列表、元组和字符串的共同点：

- 都可以通过索引得到每一个元素。
- 默认索引值总是从`0`开始。
- 可以通过分片的方法得到一个范围内的元素的集合。
- 有很多共同的操作符：

&emsp;&emsp;1. `max`返回序列或者参数集合中的最大值，`min`则返回最小值：

``` python
max(1, 2, 3, 4, 5)  # 结果为“5”
b = ['h', 'e', 'l', 'l', 'o']
max(b)  # 结果为“o”
member = [1, 2, 3, 4, 5]
max(member)  # 结果为“5”
min(member)  # 结果为“1”
chars = "1234567890"
min(chars)  # 结果为“0”
tuple1 = (0, 1, 2, 3, 4)
max(tuple1)  # 结果为“4”
member.append('a')
member  # 结果为“[1, 2, 3, 4, 5, 'a']”
max(member)  # 结果为“出错”
```

&emsp;&emsp;2. 在序列中遍历时，索引位置和对应值可以使用`enumerate`函数同时得到。
&emsp;&emsp;3. `sum(iterable[, start=0])`返回序列`iterable`和可选参数`start`的总和(该方法适用于`list`和`tuple`，对于`str`会出错)：
&emsp;&emsp;4. 使用`sorted`函数对序列进行排序，使用`reversed`对序列进行翻转：

``` python
tuple1 = (0, 1, 2, 3, 4)
sum(tuple1)  # 结果为“10”
tuple2 = (1.2, 2.4, 3.6)
sum(tuple2)  # 结果为“7.199999999999999”
tuple2 = (1.5, 1.6, 1.7)
sum(tuple2)  # 结果为“4.8”
sum(tuple2, 1)  # 结果为“5.8”
chars = "hello"
sum(chars)  # 结果为“出错”
sorted(tuple2)  # 结果为“[1.5, 1.6, 1.7]”
reversed(tuple2)  # 结果为“<reversed object at 0x0265D9F0>”
list(reversed(tuple2))  # 结果为“[1.7, 1.6, 1.5]”
enumerate(tuple2)  # 结果为“<enumerate object at 0x02670238>”
list(enumerate(tuple2))  # 结果为“[(0, 1.5), (1, 1.6), (2, 1.7)]”
```

### 同时遍历

&emsp;&emsp;同时遍历两个或更多的序列，可以使用`zip`：

``` python
questions = ['name', 'quest', 'favorite color']
answers = ['qinshihuang', 'the holy', 'blue']

for q, a in zip(questions, answers):
    print('what is your %s? it is %s' % (q, a))
```

执行结果：

``` python
what is your name? it is qinshihuang
what is your quest? it is the holy
what is your favorite color? it is blue
```

### 切片

&emsp;&emsp;切片的语法如下：

``` python
list[start:end:step]
```

`list`表示需要取子集的列表变量，`[start:end:step]`表示从第`start`个索引位置开始到第`end`个索引之间(但不包括第`end`个索引)截取子集，截取的步长是`step`(默认为`1`)。注意`step`的符号：

- `step > 0`：序列是从`start`开始由左向右看。
- `step < 0`：序列是从`start`开始由右向左看。

``` python
a = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
print(a[1:3])  # 输出“[1, 2]”
print(a[1::2])  # 输出“[1, 3, 5, 7, 9]”
print(a[:9:2])  # 输出“[0, 2, 4, 6, 8]”
print(a[:5:-1])  # 输出“[9, 8, 7, 6]”
print(a[0:5:-1])  # 输出“[]”
print(a[1::-1])  # 输出“[1, 0]”
print(a[:-1])  # 输出“[0, 1, 2, 3, 4, 5, 6, 7, 8]”
```