---
title: 布尔类型
categories: C语言语法详解
date: 2018-12-06 12:55:28
---
&emsp;&emsp;`C89`没有定义布尔类型，通常以`0`为假，`非0`为真。所以经常使用逻辑变量的做法：<!--more-->

``` cpp
/* 定义一个int类型变量，当变量值为0时表示false，值为1时表示true */
int flag;
flag = 0;
...
flag = 1;

if ( flag ) {
    ...
}
```

但这种做法不直观，而且没有明确`flag`一定是布尔值。所以我们又借助`C`语言的宏定义：

``` cpp
/* 宏定义布尔类型 */
#define BOOL int
#define TRUE 1
#define FALSE 0

/* 定义一个布尔变量 */
BOOL flag = FALSE;
```

或者使用枚举类型：

``` cpp
typedef enum {
    false = 0,
    true = 1
} bool;

bool flag = true;
```

这种方法虽然直观，但依然有缺陷。
&emsp;&emsp;`C99`提供了`_Bool`型，所以布尔类型可以声明为`_Bool flag`。`_Bool`依然仍是整数类型，但与一般整型不同的是，`_Bool`变量只能赋值为`0`或`1`，`非0`的值都会被存储为`1`。`C99`还提供了一个头文件`stdbool.h`，它定义了`bool`类型`_Bool`，`true`代表`1`，`false`代表`0`。只要导入`stdbool.h`，就能非常方便地操作布尔类型了：

``` cpp
#include <stdbool.h>
#include <stdio.h>

/* 计算“n!”，n的值在main中定义 */
int main ( void ) {
    int n = 10; /* 计算叠乘数 */
    int sum = 1; /* 用来存放叠乘的结果 */
    bool flag = false; /* 叠乘标记 */
    int num = n; /* 循环次数 */

    while ( !flag ) {
        sum = sum * ( num-- );

        /* 当“num = 1”时结束循环 */
        if ( num == 1 ) {
            flag = true;
        }
    }

    printf ( "%d的叠乘值为%d\n", n, sum );
    return 0;
}
```