---
title: 内存分配
categories: 操作系统
date: 2018-12-25 19:52:32
---
### BSS段

&emsp;&emsp;通常是指用来存放程序中未初始化的、或者初始化为`0`的全局变量的一块内存区域。<!--more-->
&emsp;&emsp;`BSS`段属于静态内存分配，在整个程序运行的期间都是一直存在的。它不占用程序文件的大小，但是占用程序运行时的内存空间。
&emsp;&emsp;`BSS`段并不给该段的数据分配空间，只是记录数据所需空间的大小。

### 数据段

&emsp;&emsp;通常是指用来存放程序中已初始化的全局变量的一块内存区域。
&emsp;&emsp;`data`段属于静态内存分配，在整个程序运行的期间都是一直存在的。它占用程序文件的大小，其内容由程序初始化。
&emsp;&emsp;`static`声明的局部变量也是存放在数据段中。

### 代码段

&emsp;&emsp;通常是指用来存放程序执行代码的一块内存区域。
&emsp;&emsp;这部分区域的大小在程序运行前就已经确定，并且通常属于只读区域。
&emsp;&emsp;代码段也有可能包含一些只读的常数变量，例如字符串常量。

### 堆

&emsp;&emsp;用来存放进程运行时被动态分配的内存段，其大小并不固定，可动态地扩张或缩减：

- 当利用`malloc`等函数分配内存时，新分配的内存就被动态添加到堆上。
- 当利用`free`等函数释放内存时，被释放的内存从堆中被剔除。

### 栈

&emsp;&emsp;用于存放程序临时创建的局部变量，但不包括`static`声明的局部变量。
&emsp;&emsp;在函数被调用时，其参数也会被压入发起调用的进程栈中，并且等到调用结束后，函数的返回值也会被存放回栈中。

### 常量数据段

&emsp;&emsp;通常用来存放常量数据，就是使用`const`修饰的变量。